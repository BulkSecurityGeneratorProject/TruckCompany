<h1>Create new company</h1>

<div class="alert alert-danger" ng-if="vm.error">
    {{vm.messageError}}
</div>

<form name="form">
    <div class="form-group" ng-class="{'has-error' : (form.name.$dirty && form.name.$invalid) }">
        <label for="name" class="control-label">NameCompany</label>
        <input type="text"
               ng-model="vm.company.name" name="name   "
               class="form-control"
               id="name"
               placeholder="Enter company name"
               required ng-maxlength="50">
        <div ng-show="form.name.$dirty && form.name.$invalid">
            <p class="help-block"
               ng-show="form.name.$error.required">
                Company name is required.
            </p>
            <p class="help-block"
               ng-show="form.name.$error.maxlength">
                Login must consist of less than 50 symbols.
            </p>
        </div>
    </div>
    <div class="form-group" ng-class="{'has-error' : (form.login.$dirty && form.login.$invalid) }">
        <label for="login" class="control-label">Admin login:</label>
        <input type="text" name="login"
               ng-model="vm.admin.login"
               class="form-control"
               id="login"
               placeholder="Enter login"
               check-valid-login required ng-maxlength="50">
        <div ng-show="form.login.$dirty && form.login.$invalid">
            <p class="help-block"
               ng-show="form.login.$error.required">
                Login is required.
            </p>
            <p class="help-block"
               ng-show="form.login.$error.maxlength">
                Login must consist of less than 50 symbols.
            </p>
            <p class="help-block"
               ng-show="form.login.$error.existinglogin">
                Login is existed.
            </p>
        </div>

    </div>
    <div class="form-group" ng-class="{'has-error' : (form.email.$dirty && form.email.$invalid) }">
        <label for="email" class="control-label">Admin email:</label>
        <input type="text"
               ng-model="vm.admin.email" name="email"
               class="form-control"
               id="email" placeholder="Enter email"
               check-valid-email
               required
               ng-pattern='/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/'>
        <div ng-show="form.email.$dirty && form.email.$invalid">
            <p class="help-block"
               ng-show="form.email.$error.required">
                Email is required.
            </p>
            <p class="help-block"
               ng-show="form.email.$error.pattern">
                Email is invalid.
            </p>
            <p class="help-block"
               ng-show="form.email.$error.existingemail">
                Email is existed.
            </p>
        </div>
    </div>

    <button class="btn btn-default" ng-click="vm.create()" ng-disabled="form.$invalid">Create</button>
    <button href="#/superadmin/companies" class="btn btn-default">Cancel</button>
</form>

